{{extend 'layout.html'}}

<!-- If user not authenticated, kindly ask them to sign up or sign in -->
{{if auth.user_id is None:}}
    <div id="main_login">
        <div class="jumbotron">
            <h1>Hello, world!</h1>
            <p>Get started with SlugIOT and start managing all of your appliances over the cloud.</p>
            <p>
                {{=A('Sign Up', _class='btn btn-warning btn-lg', _role="button", _href=URL('default', 'user', args=['register']))}}
                {{=A('Sign In', _class='btn btn-success btn-lg', _role="button", _href=URL('default', 'user', args=['login']))}}
            </p>
        </div>
    </div>

{{else:}}
    <!-- col-md-4 in Bootstrap ensures we have 3 even columns -->
    <div id="left_sidebar" class="col-md-4">
        <!-- Give the user a warning banner if they need to add a device still -->
        {{if len(device_list) == 0:}}
            <div class="alert alert-warning alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <strong>Hey!</strong> Looks like you haven't added any devices to your account, do that first.
            </div>
        {{pass}}
        <div class="list-group">
            <!-- Drill it into their minds that they NEED to add a device -->
            {{if len(device_list) == 0:}}
                <a href="{{=URL('default', 'add')}}" class="list-group-item active" align="center">Add a new device?</a>
            <!-- Otherwise here we just list the device names -->
            {{else:}}
                {{for device in device_list:}}
                    <a href="#" class="list-group-item">{{device.name}}</a>
                {{pass}}
            {{pass}}
        </div>
    </div>

    <!-- This where the charts and logs from the data viz team would go -->
    <div id="middle_bar" class="col-md-4" align="center">
        <h1 align="center">hello</h1>
    </div>

    <!-- Things here would be generated from the database -->
    <div id="device_info" class="col-md-4" align="center">
        <h1>Status</h1>
        <!-- This would link to something produced by the script editor team -->
        <button type="button" class="btn btn-primary" onclick="editClick()">
            <i class="fa fa-pencil-square-o fa-fw" aria-hidden="true"></i><font size="1">Edit Script</font>
        </button><br><br>
        <ul class="list-group">
            <li class="list-group-item"><span class="badge"><i class="fa fa-check" aria-hidden="true"></i></span>Status: OK</li>
            <li class="list-group-item">Last synced: December 31, 1969</li>
            <li class="list-group-item">Next sync in: <span id="time"></span></li>
        </ul>
    </div>
{{pass}}
